.PHONY: build_ext tests

build_ext:
	javac jnius/src/org/jnius/NativeInvocationHandler.java
	python setup.py build_ext --inplace -f -g
	#python setup.py build_ext --inplace -f

html:
	$(MAKE) -C docs html

compile-tests: build_ext
	cd tests && javac org/jnius/HelloWorld.java
	cd tests && javac org/jnius/BasicsTest.java
	cd tests && javac org/jnius/MultipleMethods.java
	cd tests && javac org/jnius/SimpleEnum.java
	cd tests && javac org/jnius/InterfaceWithPublicEnum.java
	cd tests && javac org/jnius/ClassArgument.java
<<<<<<< HEAD
	cd tests && javac org/jnius/SimpleIterable.java

tests: compile-tests
	cd tests && env PYTHONPATH=..:$(PYTHONPATH) nosetests-2.7 -v
=======
	cd tests && env PYTHONPATH=..:$(PYTHONPATH) nosetests -v

clean:
	rm -rf build/
	rm -f jnius/config.pxi
	rm -f jnius/jnius.c
	rm -f jnius/*.so
	find . -iname '*.pyc' -delete
	find . -iname '*.class' -delete
>>>>>>> e3fb51b06bde433d44593993142bebdf9c08e606
